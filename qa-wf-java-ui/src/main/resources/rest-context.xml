<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans.xsd">

<!--    <bean id="crmRestTemplate" class="org.springframework.web.client.RestTemplate">-->
<!--        <property name="messageConverters">-->
<!--            <list>-->
<!--                <bean class="org.springframework.http.converter.xml.MarshallingHttpMessageConverter">-->
<!--                    <property name="marshaller" ref="xstreamMarshaller4Crm"/>-->
<!--                    <property name="unmarshaller" ref="xstreamMarshaller4Crm"/>-->
<!--                    <property name="supportedMediaTypes">-->
<!--                        <list>-->
<!--                            <value>application/xml</value>-->
<!--                        </list>-->
<!--                    </property>-->
<!--                </bean>-->
<!--            </list>-->
<!--        </property>-->
<!--    </bean>-->

<!--    <bean id="xstreamMarshaller4Crm" class="com.copyright.rup.qa.automation.pubportal.special.request.integration.IgnoreUnknownElementsXStreamMarshaller" init-method="ignoreElements">-->
<!--        <property name="autodetectAnnotations" value="true"/>-->
<!--        <property name="annotatedClasses">-->
<!--            <list>-->
<!--                <value>com.copyright.rup.qa.automation.pubportal.special.request.repository.oa.impl.BillingAddressManager.BillingAddress</value>-->
<!--            </list>-->
<!--        </property>-->
<!--        <property name="converters">-->
<!--            <array>-->
<!--                <bean class="com.copyright.rup.rest.common.converter.RupDateConverter"/>-->
<!--            </array>-->
<!--        </property>-->
<!--    </bean>-->

    <bean id="restTemplate" class="org.springframework.web.client.RestTemplate"/>

    <bean id="restTemplateMessageConverter" class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">
        <property name="targetObject" ref="restTemplate" />
        <property name="targetMethod" value="getMessageConverters" />
    </bean>

    <bean class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">
        <property name="targetObject" ref="restTemplateMessageConverter" />
        <property name="targetMethod" value="add" />
        <property name="arguments">
            <list>
                <value>0</value>
                <bean class="org.springframework.http.converter.StringHttpMessageConverter">
                    <constructor-arg index="0" name="defaultCharset" value="UTF-8"/>
                </bean>
            </list>
        </property>
    </bean>
</beans>